<div class="app-modal create-modal">
  <div class="closebar">
    <button (click)="close()" class="close">âœ–</button>
  </div>

  <div class="form">
    <form [formGroup]="form" (ngSubmit)="createPost()">

      <div class="mb-3">
        <label for="title" class="form-label"><b>Title:</b></label>
        <input type="text" formControlName="title" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f['title'].errors , 'ng-started' : f['title'].value === '' }" />
        <div *ngIf="submitted && f['title'].errors" class="invalid-feedback">
          <div *ngIf="f['title'].errors['required']">Title is required</div>
        </div>
      </div>

      <div class="mb-3">
        <label for="body" class="form-label"><b>Body:</b></label>
        <textarea type="text" formControlName="body" class="form-control" rows="4"
          [ngClass]="{ 'is-invalid': submitted && f['body'].errors , 'ng-started' : !f['body'].value }"></textarea>
        <div *ngIf="submitted && f['body'].errors" class="invalid-feedback">
          <div *ngIf="f['body'].errors['required']">Body is required</div>
          <div *ngIf="f['body'].errors['minlength']">
            Body must be at least 6 characters
          </div>
          <div *ngIf="f['body'].errors['maxlength']">
            Username must not exceed 256 characters
          </div>
        </div>
      </div>

      <div class="form-buttons">
        <button type="button" (click)="reset()" class="clean accept">
          <fa-icon [icon]="faBroom"></fa-icon>
        </button>
        <button type="submit" class="submit accept">Post it!</button>
      </div>

    </form>
  </div>

</div>

<div class="backdrop"></div>
